<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="彩旭国际娱乐 - 官方网站，提供优质的在线娱乐体验">
    <meta name="keywords" content="彩旭国际,娱乐,游戏,线路">
    <!-- 安全性增强 -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <!-- 移动端优化 -->
    <meta name="theme-color" content="#000000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>彩旭国际 - 官方网站</title>
    <link rel="icon" href="./images/CXLOGO.png" type="image/png">
    <link rel="apple-touch-icon" href="./images/CXLOGO.png">
    <!-- PWA 支持 -->
    <link rel="manifest" href="./manifest.json">
    <meta name="apple-mobile-web-app-title" content="彩旭国际">
    <!-- iOS 启动画面图标 -->
    <link rel="apple-touch-startup-image" href="./images/CXLOGO.png">
    <link rel="stylesheet" href="./main.css">
    <!-- 预加载主图片 -->
    <link rel="preload" href="./images/main-image.png" as="image">
    <link rel="preload" href="./images/CXLOGO.png" as="image">
    <style>
/* 重置默认样式 */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: Arial, sans-serif;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: #000;
    color: white;
    /* 添加平滑滚动 */
    scroll-behavior: smooth;
    /* 优化移动端体验 */
    -webkit-tap-highlight-color: transparent;
    overflow-x: hidden;
}

/* 导航包装器样式 */
.nav-wrapper {
    position: fixed;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    z-index: 1000;
    display: flex;
    align-items: center;
}

/* 侧边按钮样式 */
.side-button {
    position: relative;
    left: 20px;
    background: transparent;
    color: white;
    padding: 12px 15px;
    border-radius: 10px;
    cursor: pointer;
    box-shadow: none;
    transition: all 0.3s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    font-size: 14px;
    width: 90px;
    text-align: center;
    /* 增加触摸区域 */
    touch-action: manipulation;
    overflow: hidden; /* 确保闪光效果不溢出 */
}

.side-button::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255, 204, 0, 0.8) 0%, transparent 60%);
    opacity: 0;
    z-index: -1;
    transform: scale(0);
    transition: opacity 0.3s, transform 0.3s;
}

.side-button.clicked::before {
    opacity: 1;
    transform: scale(1);
    animation: buttonGlow 0.5s ease;
}

@keyframes buttonGlow {
    0% {
        opacity: 0;
        transform: scale(0);
    }
    50% {
        opacity: 0.8;
        transform: scale(1);
    }
    100% {
        opacity: 0;
        transform: scale(1.5);
    }
}

.side-button:hover {
    background: transparent;
    transform: translateY(-50%) scale(1.05);
}

.side-button.clicked {
    transform: scale(0.95);
    animation: buttonClick 0.5s ease;
}

@keyframes buttonClick {
    0% {
        box-shadow: 0 0 0 0 rgba(255, 204, 0, 0.8);
    }
    50% {
        box-shadow: 0 0 30px 10px rgba(255, 204, 0, 0.5);
    }
    100% {
        box-shadow: 0 0 0 0 rgba(255, 204, 0, 0);
    }
}

/* LOGO图片样式 */
.logo-image {
    width: 80px;
    height: 80px;
    object-fit: contain;
    margin-bottom: 2px;
    border-radius: 6px;
    position: relative;
    animation: pulse 2s infinite;
    border: none;
    transition: all 0.3s ease;
}

/* LOGO脉冲动画 */
@keyframes pulse {
    0% {
        filter: drop-shadow(0 0 0px #ffcc00);
    }
    50% {
        filter: drop-shadow(0 0 10px #ffcc00);
    }
    100% {
        filter: drop-shadow(0 0 0px #ffcc00);
    }
}

.side-button.clicked .logo-image {
    animation: logoClick 0.5s ease;
}

@keyframes logoClick {
    0% {
        transform: scale(1);
        filter: drop-shadow(0 0 5px #ffcc00) brightness(1);
    }
    50% {
        transform: scale(1.1);
        filter: drop-shadow(0 0 20px #ffcc00) brightness(1.5);
    }
    100% {
        transform: scale(1);
        filter: drop-shadow(0 0 5px #ffcc00) brightness(1);
    }
}

/* 导航按钮组样式 */
.nav-buttons {
    position: relative;
    left: -300px;
    background-color: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(10px);
    border-radius: 15px;
    padding: 15px;
    transition: all 0.3s ease;
    border: 1px solid rgba(255, 204, 0, 0.3);
    display: flex;
    flex-direction: column;
    gap: 10px;
    min-width: 250px;
    opacity: 0;
    transform: translateX(-20px);
    pointer-events: none;
}

.nav-buttons.active {
    left: 20px;
    opacity: 1;
    transform: translateX(0);
    pointer-events: all;
}

/* 线路项样式 */
.route-item {
    background-color: rgba(30, 30, 30, 0.8);
    border-radius: 10px;
    padding: 12px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    transition: all 0.2s ease;
    cursor: pointer;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.route-item:hover {
    background-color: rgba(50, 50, 50, 0.8);
    transform: translateY(-2px);
}

/* 速度标签样式 */
.speed {
    background-color: #2d8e2d;
    color: white;
    padding: 4px 8px;
    border-radius: 5px;
    font-size: 12px;
    font-weight: bold;
}

.route-name {
    flex-grow: 1;
    margin-left: 10px;
    font-size: 14px;
}

/* 进入按钮样式 */
.download-btn {
    background: #3498db;
    color: white !important;
    border: none;
    padding: 6px 12px;
    border-radius: 5px;
    cursor: pointer;
    text-decoration: none;
    font-size: 14px;
    transition: all 0.2s ease;
    display: inline-block;
}

.download-btn:hover {
    background: #2980b9;
    transform: scale(1.05);
}

/* 一键添加按钮样式 */
.add-home-btn {
    background: #ffcc00;
    color: #000 !important;
    font-weight: bold;
}

.add-home-btn:hover {
    background: #ff9900;
    transform: scale(1.05);
}

/* 官网标签样式 */
.highlight-speed {
    background-color: #ffcc00 !important;
    color: #000 !important;
    font-weight: bold;
    position: relative;
}

/* 按钮点击效果 */
.btn-clicked {
    transform: scale(0.95);
}

/* 主容器样式 */
.container {
    text-align: center;
    width: 100%;
    max-width: 1200px;
    padding: 20px;
}

.image-container {
    position: relative;
    max-width: 100%;
    margin: 0 auto;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 0 30px rgba(255, 204, 0, 0.2);
    transition: all 0.5s ease;
    animation: floatContainer 3s ease-in-out infinite;
}

.main-image {
    width: 100%;
    height: auto;
    display: block;
    transition: transform 0.5s ease;
    animation: fadeInAndGlow 1.5s ease-out;
}

.main-image:hover {
    transform: scale(1.02);
}

/* 图片加载动画 */
@keyframes fadeInAndGlow {
    0% {
        opacity: 0;
        filter: brightness(1);
    }
    50% {
        opacity: 1;
        filter: brightness(1.5);
    }
    100% {
        opacity: 1;
        filter: brightness(1);
    }
}

/* 浮动动画 */
@keyframes floatContainer {
    0%, 100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-10px);
    }
}

/* 加载动画样式 */
.loader {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #000;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 2000;
    transition: opacity 0.5s ease;
}

.spinner {
    width: 50px;
    height: 50px;
    border: 4px solid rgba(255, 204, 0, 0.3);
    border-top: 4px solid #ffcc00;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin-bottom: 20px;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* 版权信息样式 */
.copyright {
    position: fixed;
    bottom: 10px;
    left: 0;
    width: 100%;
    text-align: center;
    padding: 10px;
    font-size: 12px;
    color: rgba(255, 255, 255, 0.6);
}

/* 移动端适配 */
@media (max-width: 768px) {
    .nav-wrapper {
        top: 50%;
        transform: translateY(-50%);
        left: 0;
    }

    .side-button {
        left: 10px;
        flex-direction: column;
        padding: 5px;
        position: fixed;
    }

    .side-button div {
        font-size: 14px;
        font-weight: bold;
        color: white;
        text-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
    }

    .logo-image {
        width: 80px;
        height: 80px;
        margin-bottom: 2px;
    }

    .nav-buttons {
        position: fixed;
        left: 80px;
        top: 50%;
        transform: translateY(-50%);
        width: calc(100vw - 100px);
        max-height: 60vh;
        overflow-y: auto;
    }

    .nav-buttons.active {
        left: 80px;
        transform: translateY(-50%);
        opacity: 1;
    }

    body.landscape .nav-buttons {
        max-height: 80vh;
    }
}

/* 安装消息样式 */
.install-message {
    background: rgba(0, 0, 0, 0.85);
    backdrop-filter: blur(10px);
    border-radius: 15px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    max-height: 80vh;
    overflow-y: auto;
    padding: 20px;
}

.install-message img {
    max-width: 100%;
    height: auto;
    border-radius: 8px;
    margin: 10px 0;
}

.install-steps {
    margin: 15px 0;
    padding-left: 20px;
}

.install-steps li {
    margin: 10px 0;
    line-height: 1.5;
}
    </style>
    <!-- 添加全局函数定义 -->
    <script>
        // 处理链接点击
        window.handleClick = function(url, routeName) {
            // 添加点击反馈
            event.target.classList.add('btn-clicked');
            setTimeout(function() {
                window.location.href = url;
            }, 200);
        }
    </script>
</head>
<body>
    <!-- 加载动画 -->
    <div class="loader" id="loader" aria-live="polite" role="status">
        <div class="spinner"></div>
        <p>加载中...</p>
    </div>

    <!-- 侧边按钮和导航区域包装器 -->
    <div class="nav-wrapper" id="navWrapper">
        <!-- 侧边按钮 -->
        <div class="side-button" id="sideButton" role="button" aria-haspopup="true" aria-expanded="false" tabindex="0" aria-label="进入官网菜单">
            <img src="./images/CXLOGO.png" alt="彩旭国际 Logo" class="logo-image">
            <div>进入官网</div>
        </div>

        <!-- 导航按钮组 -->
        <div class="nav-buttons" id="navMenu" role="menu" aria-label="线路选择菜单">
            <div class="route-item" role="menuitem">
                <div class="speed" aria-label="速度">50ms</div>
                <div class="route-name">线路 1</div>
                <a href="https://www.xucai666.com/?code=17p/#/register" class="download-btn" aria-label="进入线路1" target="_blank" rel="noopener noreferrer" onclick="event.stopPropagation();">
                    进入
                </a>
            </div>
            <div class="route-item" role="menuitem">
                <div class="speed" aria-label="速度">50ms</div>
                <div class="route-name">线路 2</div>
                <a href="https://www.xucai666.com/?code=17p/#/home" class="download-btn" aria-label="进入线路2" target="_blank" rel="noopener noreferrer" onclick="event.stopPropagation();">
                    进入
                </a>
            </div>
            <div class="route-item" role="menuitem">
                <div class="speed" aria-label="速度">40ms</div>
                <div class="route-name">线路 3</div>
                <a href="https://www.xucai666.com/?code=17p/#/register" class="download-btn" aria-label="进入线路3" target="_blank" rel="noopener noreferrer" onclick="event.stopPropagation();">
                    进入
                </a>
            </div>
            <div class="route-item" role="menuitem">
                <div class="speed highlight-speed" aria-label="官网">官网</div>
                <div class="route-name">添加官网到桌面</div>
                <button id="addToHomeBtn" class="download-btn add-home-btn" aria-label="添加官网到手机桌面" onclick="event.stopPropagation(); addToHomeScreen();">
                    一键添加
                </button>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="image-container">
            <!-- PNG格式图片 -->
            <img src="./images/main-image.png" alt="彩旭国际娱乐官方形象" class="main-image" onload="hideLoader()">
        </div>
    </div>
    
    <!-- 版权信息 -->
    <div class="copyright" role="contentinfo">
        © 2025 彩旭国际娱乐 版权所有
    </div>
    
    <!-- 添加 SaleSmartly 聊天插件配置 -->
    <script>
        window.SaleSmartlySettings = {
            position: 'right',
            bottomOffset: '120px',  // 调整位置避免与侧边按钮重叠
            sideOffset: '30px',
            zIndex: 1000
        };
    </script>
    
    <!-- 功能脚本 -->
    <script>
        // 获取元素
        const navWrapper = document.getElementById('navWrapper');
        const navMenu = document.getElementById('navMenu');
        const sideButton = document.getElementById('sideButton');
        
        // 添加到主屏幕功能
        let deferredPrompt;
        const addToHomeBtn = document.getElementById('addToHomeBtn');
        
        // 监听 beforeinstallprompt 事件
        window.addEventListener('beforeinstallprompt', (e) => {
            // 阻止 Chrome 67 及更早版本自动显示安装提示
            e.preventDefault();
            // 存储事件以便稍后触发
            deferredPrompt = e;
            // 更新 UI 通知用户可以将应用添加到主屏幕
            addToHomeBtn.style.display = 'block';
        });
        
        // 检测设备类型
        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        
        // 根据设备类型调整交互方式
        if (!isMobile) {
            // 桌面端：鼠标悬停时显示菜单
            navWrapper.addEventListener('mouseenter', function() {
                navMenu.classList.add('active');
                sideButton.setAttribute('aria-expanded', 'true');
            });
            
            // 鼠标离开时隐藏菜单
            navWrapper.addEventListener('mouseleave', function() {
                navMenu.classList.remove('active');
                sideButton.setAttribute('aria-expanded', 'false');
            });
        }
        
        // 触摸设备支持
        sideButton.addEventListener('touchstart', function(e) {
            e.preventDefault(); // 防止触摸事件被误解为点击
            navMenu.classList.toggle('active');
            
            // 更新ARIA状态
            const expanded = navMenu.classList.contains('active');
            sideButton.setAttribute('aria-expanded', expanded ? 'true' : 'false');
            
            // 添加按钮点击效果
            sideButton.classList.add('clicked');
            setTimeout(() => {
                sideButton.classList.remove('clicked');
            }, 500);

            // 添加点击音效
            playClickSound();
        });
        
        // 点击按钮也可以切换菜单显示状态
        sideButton.addEventListener('click', function(e) {
            e.preventDefault(); // 防止默认行为
            navMenu.classList.toggle('active');
            
            // 更新ARIA状态
            const expanded = navMenu.classList.contains('active');
            sideButton.setAttribute('aria-expanded', expanded ? 'true' : 'false');
            
            // 添加按钮点击效果
            sideButton.classList.add('clicked');
            setTimeout(() => {
                sideButton.classList.remove('clicked');
            }, 500);

            // 添加点击音效
            playClickSound();
        });
        
        // 点击页面其他区域关闭菜单（移动端优化）
        document.addEventListener('click', function(e) {
            if (!navWrapper.contains(e.target) && navMenu.classList.contains('active')) {
                navMenu.classList.remove('active');
                sideButton.setAttribute('aria-expanded', 'false');
            }
        });
        
        // 为所有下载按钮添加点击效果
        document.querySelectorAll('.download-btn').forEach(function(btn) {
            btn.addEventListener('click', function(e) {
                // 添加点击效果
                this.classList.add('btn-clicked');
                
                // 不阻止默认行为，允许链接正常工作
            });
        });
        
        // 隐藏加载动画
        function hideLoader() {
            const loader = document.getElementById('loader');
            loader.style.opacity = '0';
            setTimeout(() => {
                loader.style.display = 'none';
            }, 500);
        }
        
        // 如果图片已经缓存，直接隐藏加载动画
        window.onload = function() {
            setTimeout(() => {
                const loader = document.getElementById('loader');
                if (loader.style.display !== 'none') {
                    loader.style.opacity = '0';
                    setTimeout(() => {
                        loader.style.display = 'none';
                    }, 500);
                }
            }, 500); // 确保至少显示500ms的加载动画
            
            // 检测屏幕方向并应用适当的样式
            checkOrientation();
        };
        
        // 监听屏幕方向变化
        window.addEventListener('resize', checkOrientation);
        
        // 检测屏幕方向
        function checkOrientation() {
            const isLandscape = window.innerWidth > window.innerHeight;
            document.body.classList.toggle('landscape', isLandscape);
        }
        
        // 添加到主屏幕的函数
        function addToHomeScreen() {
            // 检测设备类型
            const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
            
            // 创建弹窗容器
            const popup = document.createElement('div');
            popup.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.85);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 2000;
            `;

            // 创建内容容器
            const content = document.createElement('div');
            content.style.cssText = `
                background: #1a1a1a;
                padding: 20px;
                border-radius: 15px;
                max-width: 90%;
                width: 350px;
                border: 2px solid #ffcc00;
                box-shadow: 0 0 20px rgba(255, 204, 0, 0.3);
            `;

            // 定义要添加到主屏幕的网址
            const customUrl = 'https://085757.cc';

            // 根据设备类型显示不同内容
            if (isIOS) {
                content.innerHTML = `
                    <h3 style="color: #ffcc00; margin-bottom: 15px; text-align: center;">在iPhone上添加到主屏幕</h3>
                    <img src="./images/ios.jpg" alt="iOS安装指南" style="width: 100%; max-width: 300px; border-radius: 8px; margin: 10px auto; display: block;">
                    <ol style="color: white; margin: 15px 0; padding-left: 20px;">
                        <li style="margin: 10px 0;">点击下方分享按钮 □↑</li>
                        <li style="margin: 10px 0;">选择"添加到主屏幕"</li>
                        <li style="margin: 10px 0;">点击"添加"完成安装</li>
                    </ol>
                    <p style="color: #ffcc00; margin: 10px 0; font-size: 14px;">安装完成后将直接访问: ${customUrl}</p>
                    <button onclick="this.parentElement.parentElement.remove()" style="background: #ffcc00; color: #000; border: none; padding: 8px 20px; border-radius: 5px; cursor: pointer; font-weight: bold; margin: 10px auto 0; display: block;">我知道了</button>
                `;
                setTimeout(() => popup.remove(), 15000);
            } else {
                content.innerHTML = `
                    <h3 style="color: #ffcc00; margin-bottom: 15px; text-align: center;">添加到主屏幕</h3>
                    <p style="color: white; margin: 10px 0;">请按照以下步骤操作：</p>
                    <ol style="color: white; margin: 15px 0; padding-left: 20px;">
                        <li style="margin: 10px 0;">点击浏览器右上角的菜单按钮 ⋮</li>
                        <li style="margin: 10px 0;">选择"添加到主屏幕"或"安装应用"</li>
                        <li style="margin: 10px 0;">点击"添加"确认</li>
                    </ol>
                    <p style="color: #ffcc00; margin: 10px 0; font-size: 14px;">安装完成后将直接访问: ${customUrl}</p>
                    <button onclick="this.parentElement.parentElement.remove()" style="background: #ffcc00; color: #000; border: none; padding: 8px 20px; border-radius: 5px; cursor: pointer; font-weight: bold; margin: 10px auto 0; display: block;">我知道了</button>
                `;
                setTimeout(() => popup.remove(), 10000);
            }

            // 添加内容到弹窗
            popup.appendChild(content);
            document.body.appendChild(popup);

            // 如果是支持 PWA 安装的设备,修改 start_url
            if (window.deferredPrompt) {
                // 修改 manifest 中的 start_url
                fetch('./manifest.json')
                    .then(response => response.json())
                    .then(manifest => {
                        manifest.start_url = customUrl;
                        const blob = new Blob([JSON.stringify(manifest)], {type: 'application/json'});
                        const manifestUrl = URL.createObjectURL(blob);
                        const existingLink = document.querySelector('link[rel="manifest"]');
                        if (existingLink) {
                            existingLink.href = manifestUrl;
                        }
                    })
                    .catch(console.error);
            }
        }
        
        // 点击音效函数
        function playClickSound() {
            // 创建音频上下文
            const AudioContext = window.AudioContext || window.webkitAudioContext;
            if (!AudioContext) return; // 不支持的浏览器直接返回
            
            const audioCtx = new AudioContext();
            
            // 创建振荡器
            const oscillator = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            
            // 设置声音特性
            oscillator.type = 'sine';
            oscillator.frequency.setValueAtTime(880, audioCtx.currentTime); // A5音
            oscillator.frequency.exponentialRampToValueAtTime(440, audioCtx.currentTime + 0.1); // 滑落到A4音
            
            // 设置音量包络
            gainNode.gain.setValueAtTime(0, audioCtx.currentTime);
            gainNode.gain.linearRampToValueAtTime(0.3, audioCtx.currentTime + 0.02);
            gainNode.gain.linearRampToValueAtTime(0, audioCtx.currentTime + 0.2);
            
            // 连接并播放
            oscillator.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            
            oscillator.start();
            oscillator.stop(audioCtx.currentTime + 0.2);
        }
    </script>
    
    <script src="https://plugin-code.salesmartly.com/js/project_251595_258306_1740206852.js" defer></script>
</body>
</html> 