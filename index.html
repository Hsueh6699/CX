<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="彩旭国际娱乐 - 官方网站，提供优质的在线娱乐体验">
    <meta name="keywords" content="彩旭国际,娱乐,游戏,线路">
    <!-- 安全性增强 -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <!-- 移动端优化 -->
    <meta name="theme-color" content="#000000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>彩旭国际 - 官方网站</title>
    <link rel="icon" href="./images/CXLOGO.png" type="image/png">
    <link rel="apple-touch-icon" href="./images/CXLOGO.png">
    <!-- PWA 支持 -->
    <link rel="manifest" href="./manifest.json">
    <meta name="apple-mobile-web-app-title" content="彩旭国际">
    <!-- iOS 启动画面图标 -->
    <link rel="apple-touch-startup-image" href="./images/CXLOGO.png">
    <link rel="stylesheet" href="./main.css">
    <!-- 预加载主图片 -->
    <link rel="preload" href="./images/main-image.png" as="image">
    <link rel="preload" href="./images/CXLOGO.png" as="image">
    <style>
/* 重置默认样式 */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: Arial, sans-serif;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: #000;
    color: white;
    /* 添加平滑滚动 */
    scroll-behavior: smooth;
    /* 优化移动端体验 */
    -webkit-tap-highlight-color: transparent;
    overflow-x: hidden;
}

/* 导航包装器样式 */
.nav-wrapper {
    position: fixed;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    z-index: 1000;
    display: flex;
    align-items: center;
}

/* 侧边按钮样式 */
.side-button {
    position: relative;
    left: 20px;
    background: transparent;
    color: white;
    padding: 12px 15px;
    border-radius: 10px;
    cursor: pointer;
    z-index: 1001;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    transition: all 0.3s ease;
    border: 1px solid rgba(255, 204, 0, 0.3);
    backdrop-filter: blur(5px);
    background-color: rgba(0, 0, 0, 0.5);
}

.side-button.clicked {
    transform: scale(0.95);
    background-color: rgba(255, 204, 0, 0.1);
}

.logo-image {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid #ffcc00;
    box-shadow: 0 0 10px rgba(255, 204, 0, 0.5);
}

/* 导航按钮组样式 */
.nav-buttons {
    position: relative;
    left: -300px;
    background-color: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(10px);
    border-radius: 15px;
    padding: 15px;
    transition: all 0.3s ease;
    border: 1px solid rgba(255, 204, 0, 0.3);
    display: flex;
    flex-direction: column;
    gap: 10px;
    min-width: 250px;
    opacity: 0;
    transform: translateX(-20px);
    pointer-events: none;
}

.nav-buttons.active {
    left: 20px;
    opacity: 1;
    transform: translateX(0);
    pointer-events: all;
}

/* 线路项样式 */
.route-item {
    background-color: rgba(30, 30, 30, 0.8);
    border-radius: 10px;
    padding: 12px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    transition: all 0.2s ease;
    cursor: pointer;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.route-item:hover {
    background-color: rgba(50, 50, 50, 0.8);
    transform: translateY(-2px);
}

.speed {
    background-color: rgba(0, 150, 0, 0.5);
    color: white;
    padding: 4px 8px;
    border-radius: 5px;
    font-size: 12px;
    font-weight: bold;
}

.route-name {
    flex-grow: 1;
    margin-left: 10px;
    font-size: 14px;
}

.download-btn {
    background: linear-gradient(135deg, #3498db, #2980b9);
    color: white;
    border: none;
    padding: 6px 12px;
    border-radius: 5px;
    cursor: pointer;
    text-decoration: none;
    font-size: 14px;
    transition: all 0.2s ease;
    display: inline-block;
}

.download-btn:hover {
    background: linear-gradient(135deg, #2980b9, #3498db);
    transform: scale(1.05);
}

.btn-clicked {
    transform: scale(0.95);
}

/* 主容器样式 */
.container {
    text-align: center;
    width: 100%;
    max-width: 1200px;
    padding: 20px;
}

.image-container {
    position: relative;
    max-width: 100%;
    margin: 0 auto;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 0 30px rgba(255, 204, 0, 0.2);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.image-container:hover {
    transform: translateY(-10px);
    box-shadow: 0 10px 40px rgba(255, 204, 0, 0.3);
}

.main-image {
    width: 100%;
    height: auto;
    display: block;
    transition: transform 0.3s ease;
}

/* 加载动画样式 */
.loader {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #000;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 2000;
    transition: opacity 0.5s ease;
}

.spinner {
    width: 50px;
    height: 50px;
    border: 4px solid rgba(255, 204, 0, 0.3);
    border-top: 4px solid #ffcc00;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin-bottom: 20px;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* 版权信息样式 */
.copyright {
    position: fixed;
    bottom: 10px;
    left: 0;
    width: 100%;
    text-align: center;
    padding: 10px;
    font-size: 12px;
    color: rgba(255, 255, 255, 0.6);
}

/* 移动端适配 */
@media (max-width: 768px) {
    .nav-wrapper {
        top: auto;
        bottom: 20px;
        transform: none;
    }

    .side-button {
        left: 20px;
        flex-direction: row;
        padding: 8px 12px;
    }

    .logo-image {
        width: 30px;
        height: 30px;
    }

    .nav-buttons {
        position: absolute;
        left: 0;
        bottom: 70px;
        width: calc(100vw - 40px);
        max-height: 60vh;
        overflow-y: auto;
    }

    .nav-buttons.active {
        left: 0;
    }

    body.landscape .nav-wrapper {
        bottom: 10px;
    }

    body.landscape .nav-buttons {
        max-height: 40vh;
    }
}

/* 添加到桌面按钮样式 */
.highlight-speed {
    background-color: #ffcc00 !important;
    color: #000 !important;
    font-weight: bold;
    position: relative;
    animation: pulse-gold 2s infinite;
}

@keyframes pulse-gold {
    0% {
        box-shadow: 0 0 0 0 rgba(255, 204, 0, 0.7);
    }
    70% {
        box-shadow: 0 0 0 6px rgba(255, 204, 0, 0);
    }
    100% {
        box-shadow: 0 0 0 0 rgba(255, 204, 0, 0);
    }
}

.add-home-btn {
    background: linear-gradient(135deg, #ffcc00, #ff9900);
    color: #000;
    font-weight: bold;
    position: relative;
    overflow: hidden;
}

.add-home-btn::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, transparent 70%);
    opacity: 0;
    z-index: 1;
    transition: opacity 0.3s;
}

.add-home-btn:hover {
    background: linear-gradient(135deg, #ff9900, #ffcc00);
    transform: scale(1.05);
    box-shadow: 0 0 15px rgba(255, 204, 0, 0.5);
}

.add-home-btn:hover::before {
    opacity: 0.7;
    animation: btnPulse 1.5s infinite;
}

@keyframes btnPulse {
    0%, 100% {
        opacity: 0.3;
    }
    50% {
        opacity: 0.7;
    }
}

/* 安装消息样式 */
.install-message {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8);
    z-index: 2000;
    display: flex;
    justify-content: center;
    align-items: center;
    animation: fadeIn 0.3s ease;
}

.message-content {
    background-color: #1a1a1a;
    border: 2px solid #ffcc00;
    border-radius: 10px;
    padding: 20px;
    width: 90%;
    max-width: 350px;
    text-align: center;
    box-shadow: 0 0 20px rgba(255, 204, 0, 0.3);
}

.message-content p {
    color: white;
    margin-bottom: 15px;
    line-height: 1.5;
    font-size: 14px;
}

.message-content ol {
    color: white;
    text-align: left;
    line-height: 1.6;
    font-size: 14px;
}

.message-content button {
    background: linear-gradient(135deg, #ffcc00, #ff9900);
    color: #000;
    border: none;
    padding: 8px 20px;
    border-radius: 20px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s ease;
    margin-top: 10px;
}

.message-content button:hover {
    transform: scale(1.05);
    background: linear-gradient(135deg, #ff9900, #ffcc00);
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}
    </style>
    <!-- 添加全局函数定义 -->
    <script>
        // 处理链接点击
        window.handleClick = function(url, routeName) {
            // 添加点击反馈
            event.target.classList.add('btn-clicked');
            setTimeout(function() {
                window.location.href = url;
            }, 200);
        }
    </script>
</head>
<body>
    <!-- 加载动画 -->
    <div class="loader" id="loader" aria-live="polite" role="status">
        <div class="spinner"></div>
        <p>加载中...</p>
    </div>

    <!-- 侧边按钮和导航区域包装器 -->
    <div class="nav-wrapper" id="navWrapper">
        <!-- 侧边按钮 -->
        <div class="side-button" id="sideButton" role="button" aria-haspopup="true" aria-expanded="false" tabindex="0" aria-label="进入官网菜单">
            <img src="./images/CXLOGO.png" alt="彩旭国际 Logo" class="logo-image">
            <div>进入官网</div>
        </div>

        <!-- 导航按钮组 -->
        <div class="nav-buttons" id="navMenu" role="menu" aria-label="线路选择菜单">
            <div class="route-item" role="menuitem">
                <div class="speed" aria-label="速度">50ms</div>
                <div class="route-name">线路 1</div>
                <a href="https://www.xucai666.com/?code=17p/#/register" class="download-btn" aria-label="进入线路1" target="_blank" rel="noopener noreferrer" onclick="event.stopPropagation();">
                    进入
                </a>
            </div>
            <div class="route-item" role="menuitem">
                <div class="speed" aria-label="速度">50ms</div>
                <div class="route-name">线路 2</div>
                <a href="https://www.xucai666.com/?code=17p/#/home" class="download-btn" aria-label="进入线路2" target="_blank" rel="noopener noreferrer" onclick="event.stopPropagation();">
                    进入
                </a>
            </div>
            <div class="route-item" role="menuitem">
                <div class="speed" aria-label="速度">40ms</div>
                <div class="route-name">线路 3</div>
                <a href="https://www.xucai666.com/?code=17p/#/register" class="download-btn" aria-label="进入线路3" target="_blank" rel="noopener noreferrer" onclick="event.stopPropagation();">
                    进入
                </a>
            </div>
            <div class="route-item" role="menuitem">
                <div class="speed highlight-speed" aria-label="官网">官网</div>
                <div class="route-name">添加官网到桌面</div>
                <button id="addToHomeBtn" class="download-btn add-home-btn" aria-label="添加官网到手机桌面" onclick="event.stopPropagation(); addToHomeScreen();">
                    一键添加
                </button>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="image-container">
            <!-- PNG格式图片 -->
            <img src="./images/main-image.png" alt="彩旭国际娱乐官方形象" class="main-image" onload="hideLoader()">
        </div>
    </div>
    
    <!-- 版权信息 -->
    <div class="copyright" role="contentinfo">
        © 2025 彩旭国际娱乐 版权所有
    </div>
    
    <!-- 添加 SaleSmartly 聊天插件配置 -->
    <script>
        window.SaleSmartlySettings = {
            position: 'right',
            bottomOffset: '120px',  // 调整位置避免与侧边按钮重叠
            sideOffset: '30px',
            zIndex: 1000
        };
    </script>
    
    <!-- 功能脚本 -->
    <script>
        // 获取元素
        const navWrapper = document.getElementById('navWrapper');
        const navMenu = document.getElementById('navMenu');
        const sideButton = document.getElementById('sideButton');
        
        // 添加到主屏幕功能
        let deferredPrompt;
        const addToHomeBtn = document.getElementById('addToHomeBtn');
        
        // 监听 beforeinstallprompt 事件
        window.addEventListener('beforeinstallprompt', (e) => {
            // 阻止 Chrome 67 及更早版本自动显示安装提示
            e.preventDefault();
            // 存储事件以便稍后触发
            deferredPrompt = e;
            // 更新 UI 通知用户可以将应用添加到主屏幕
            addToHomeBtn.style.display = 'block';
        });
        
        // 检测设备类型
        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        
        // 根据设备类型调整交互方式
        if (!isMobile) {
            // 桌面端：鼠标悬停时显示菜单
            navWrapper.addEventListener('mouseenter', function() {
                navMenu.classList.add('active');
                sideButton.setAttribute('aria-expanded', 'true');
            });
            
            // 鼠标离开时隐藏菜单
            navWrapper.addEventListener('mouseleave', function() {
                navMenu.classList.remove('active');
                sideButton.setAttribute('aria-expanded', 'false');
            });
        }
        
        // 触摸设备支持
        sideButton.addEventListener('touchstart', function(e) {
            e.preventDefault(); // 防止触摸事件被误解为点击
            navMenu.classList.toggle('active');
            
            // 更新ARIA状态
            const expanded = navMenu.classList.contains('active');
            sideButton.setAttribute('aria-expanded', expanded ? 'true' : 'false');
            
            // 添加按钮点击效果
            sideButton.classList.add('clicked');
            setTimeout(() => {
                sideButton.classList.remove('clicked');
            }, 300);
        });
        
        // 点击按钮也可以切换菜单显示状态
        sideButton.addEventListener('click', function(e) {
            e.preventDefault(); // 防止默认行为
            navMenu.classList.toggle('active');
            
            // 更新ARIA状态
            const expanded = navMenu.classList.contains('active');
            sideButton.setAttribute('aria-expanded', expanded ? 'true' : 'false');
            
            // 添加按钮点击效果
            sideButton.classList.add('clicked');
            setTimeout(() => {
                sideButton.classList.remove('clicked');
            }, 300);
        });
        
        // 点击页面其他区域关闭菜单（移动端优化）
        document.addEventListener('click', function(e) {
            if (!navWrapper.contains(e.target) && navMenu.classList.contains('active')) {
                navMenu.classList.remove('active');
                sideButton.setAttribute('aria-expanded', 'false');
            }
        });
        
        // 为所有下载按钮添加点击效果
        document.querySelectorAll('.download-btn').forEach(function(btn) {
            btn.addEventListener('click', function(e) {
                // 添加点击效果
                this.classList.add('btn-clicked');
                
                // 不阻止默认行为，允许链接正常工作
            });
        });
        
        // 隐藏加载动画
        function hideLoader() {
            const loader = document.getElementById('loader');
            loader.style.opacity = '0';
            setTimeout(() => {
                loader.style.display = 'none';
            }, 500);
        }
        
        // 如果图片已经缓存，直接隐藏加载动画
        window.onload = function() {
            setTimeout(() => {
                const loader = document.getElementById('loader');
                if (loader.style.display !== 'none') {
                    loader.style.opacity = '0';
                    setTimeout(() => {
                        loader.style.display = 'none';
                    }, 500);
                }
            }, 500); // 确保至少显示500ms的加载动画
            
            // 检测屏幕方向并应用适当的样式
            checkOrientation();
        };
        
        // 监听屏幕方向变化
        window.addEventListener('resize', checkOrientation);
        
        // 检测屏幕方向
        function checkOrientation() {
            const isLandscape = window.innerWidth > window.innerHeight;
            document.body.classList.toggle('landscape', isLandscape);
        }
        
        // 添加到主屏幕的函数
        function addToHomeScreen() {
            if (deferredPrompt) {
                // 显示安装提示
                deferredPrompt.prompt();
                
                // 等待用户响应提示
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('用户接受了安装提示');
                        // 显示成功提示
                        showInstallMessage('添加成功！请在手机桌面查看彩旭国际图标<br>点击图标即可访问官网');
                    } else {
                        console.log('用户拒绝了安装提示');
                        // 用户拒绝了自动安装，显示完整的安装指南
                        showCompleteInstallGuide();
                    }
                    // 不再需要 prompt()，清除它
                    deferredPrompt = null;
                });
            } else {
                // 如果不支持自动安装，显示完整的安装指南
                showCompleteInstallGuide();
            }
        }
        
        // 显示完整的安装指南（同时包含安卓和iOS）
        function showCompleteInstallGuide() {
            showInstallMessage(`
                <div style="text-align: left;">
                    <div style="margin: 0 0 10px; text-align: center;">
                        <p style="color: #ffcc00; font-weight: bold; font-size: 16px;">
                            将官网 www.xucai666.com 添加到桌面
                        </p>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <p style="font-weight: bold; color: #ffcc00; text-align: center; margin-bottom: 10px;">安卓设备安装步骤：</p>
                        <ol style="margin-left: 20px;">
                            <li>点击浏览器右上角的菜单按钮 ⋮</li>
                            <li>选择"添加到主屏幕"或"安装应用"</li>
                            <li>点击"添加"确认</li>
                        </ol>
                    </div>
                    
                    <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #333;">
                        <p style="font-weight: bold; color: #ffcc00; text-align: center; margin-bottom: 10px;">iOS设备安装步骤：</p>
                        <ol style="margin-left: 20px;">
                            <li>点击浏览器底部的"分享"按钮 □↑</li>
                            <li>在弹出的菜单中向上滑动</li>
                            <li>找到并点击"添加到主屏幕"</li>
                            <li>点击右上角"添加"按钮</li>
                        </ol>
                    </div>
                    
                    <p style="margin-top: 15px; color: #ffcc00; text-align: center;">
                        添加后即可在桌面一键访问彩旭国际官网
                    </p>
                </div>
            `);
        }
        
        // 显示安装消息
        function showInstallMessage(message) {
            // 创建消息元素
            const messageBox = document.createElement('div');
            messageBox.className = 'install-message';
            messageBox.innerHTML = `
                <div class="message-content">
                    ${message}
                    <button onclick="this.parentNode.parentNode.remove()">我知道了</button>
                </div>
            `;
            document.body.appendChild(messageBox);
            
            // 8秒后自动关闭
            setTimeout(() => {
                if (document.body.contains(messageBox)) {
                    messageBox.remove();
                }
            }, 8000);
        }
    </script>
    
    <script src="https://plugin-code.salesmartly.com/js/project_251595_258306_1740206852.js" defer></script>
</body>
</html> 